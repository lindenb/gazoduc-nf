includeConfig '../../confs/default.params.cfg'
includeConfig '../../confs/genomeId.params.cfg'

params {
	/** one vcf file or multiple with the list suffix */
	vcf = "NO_FILE"
	/** path to gatk jar . The workflow also works with gatk3.8 , it automatically detects the nature of the jar */
	gatkjar = "NO_FILE"
	/** file containing arguments for SNP recalibration. will be read by gatk --arg_file */
	recal_snps = "NO_FILE"
	/** file containing arguments for INDEL recalibration. will be read by gatk --arg_file */
	recal_indels = "NO_FILE"
	/** limit output to this BED */
	bed = "NO_FILE"
	}

/** END_PARAMS */

process {
	withName: "BCF_TO_VCF" {
		cpus = 10
		memory = "15g"
		}

	withName: "RECALIBRATE_SNP" {
		cpus = 5
		memory = "15g"
		}
	withName: "RECALIBRATE_INDEL" {
		cpus = 5
		memory = "15g"
		}

	withName: "APPLY_RECALIBRATION_SNP"  {
                cpus = 5
                memory = "15g"
                }

	withName: "APPLY_RECALIBRATION_INDEL"  {
                cpus = 5
                memory = "15g"
                }


	withName: "CONCAT2" {
                publishDir = [
	                path: {"${params.publishDir}/results"},
        	        mode: "copy",
	                pattern : '*.{bcf,csi}',
        	        overwrite : true
                	]
        	}


        }

