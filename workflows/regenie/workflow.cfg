params {
	prefix = ""
	outdir = "results"
	help = false

	/* TSV file with sample	status=case|control	sex=male|female|undefined */
	samplesheet = "NO_FILE"
	
	/** vcf file , or if the suffix is '.list' , paths to the VCF  files */
	vcf = "NO_FILE"

	/** limit to that BED file */
	bed = "NO_FILE"

	/** pop in gnomad */
	gnomad_population = "AF_nfe"
	}

conda.enabled=true

process {

	withName : "VCF_TO_INTERVALS" {
		ext.distance = "5M"
		ext.min_distance = "100"
		}
	withName : "WGSELECT" {
                label = "process_quick"
		memory = "3G"
		errorStrategy = "terminate"
		}

	withName : "MAKE_VCF" {
                label = "process_short"
		errorStrategy = "terminate"
		}
	withName : "ANNOT_VCF" {
                label = "process_short"
		errorStrategy = "terminate"
		}

	withName : "LD_PRUNING" {
                label = "process_medium"
        }


	withName : "STEP1" {
                label = "process_high"
        }

/*
	withName : "STEP2" {
		}
*/
	withName : "MAKE_PDF_ARCHIVE" {
                publishDir = [
                path: {"${params.outdir}/REGENIE"},
                mode: "copy",
                pattern : '*.zip',
                overwrite : true
                ]
	}

	withName : "MERGE_AND_PLOT" {
                publishDir = [
                path: {"${params.outdir}/REGENIE"},
                saveAs: { filename -> "${params.prefix}$filename" },
                mode: "copy",
                pattern : '*.{gz,tbi}',
                overwrite : true
                ]
        }

}

