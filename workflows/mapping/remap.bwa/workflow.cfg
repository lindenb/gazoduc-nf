nextflow.enable.dsl=2



params {
	help=false
	outdir="results"
	prefix=""
	fasta = ""
	fai = ""
	dict = ""

	/** TSV file sample/bam[/bai/fasta/bed] */
	samplesheet = "NO_FILE"
	/** only extract reads from this BED file (from output fasta reference) */
	bed = "NO_FILE"

	/** collate in a different process than bwa (two process)  */
	collate = true 
	}


conda.enabled = true


process {
errorStrategy = "terminate"

withName : "MERGE_BAMS" {
        publishDir = [
	                path: { "${params.outdir}/samples/${sample}/BAM/" },
			mode: "copy",
			pattern : '*.{cram,bam,bai,crai}',
			overwrite : true
                ]
	}

}


