plugins {
  id 'nf-schema@2.0.0'
}


def trace_timestamp = new java.util.Date().format( 'yyyy-MM-dd_HH-mm-ss')
timeline {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_timeline_${trace_timestamp}.html"
}
report {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_report_${trace_timestamp}.html"
}
trace {
    enabled = true
    file    = "${params.outdir}/pipeline_info/execution_trace_${trace_timestamp}.txt"
}
dag {
    enabled = true
    file    = "${params.outdir}/pipeline_info/pipeline_dag_${trace_timestamp}.html"
}

params {
	help = false
	prefix = "prefix"
	fasta = "NO_FILE"
	dbsnp="NO_FILE"
	bams="NO_FILE"
	beds="NO_FILE"
	outdir = "results"
	mapq = 30
	sample2population = "NO_FILE"
	}

process {


withName : "VCF_CONCAT" {
        publishDir = [
                path: {"${params.outdir}/VCF"},
		saveAs: { filename -> "${params.prefix}$filename" },
                mode: "copy",
                pattern : '*.{bcf,csi,vcf.gz,tbi}',
                overwrite : true
                ]
        }

withName : "MULTIQC" {
        publishDir = [
                path: {"${params.outdir}/VCF"},
		saveAs: { filename -> "${params.prefix}$filename" },
                mode: "copy",
                pattern : '*.zip',
                overwrite : true
                ]
        }
}
