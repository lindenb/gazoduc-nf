plugins {
  id 'nf-schema@2.0.0'
}

includeConfig("../../../confs/trace.cfg")

params {
	help = false
	prefix = "prefix"
	fasta = "NO_FILE"
	dbsnp="NO_FILE"
	samplesheet= "NO_FILE"
	beds="NO_FILE"
	outdir = "results"
	mapq = 10
	xz_compression = false
	}


process {

withName : "MERGE_VCFS" {


        publishDir = [
                path: {"${params.outdir}/${sample}/GVCF/"},
                saveAs: { filename -> "${params.prefix}$filename" },
                mode: "move",
                pattern : '*.{bcf,csi,vcf.gz,tbi}',
                overwrite : true
                ]

        }

withName : "XZ_VCFS" {


        publishDir = [
                path: {"${params.outdir}/${sample}/GVCF/"},
                saveAs: { filename -> "${params.prefix}$filename" },
                mode: "move",
                pattern : '*.{xz}',
                overwrite : true
                ]

        }
}
