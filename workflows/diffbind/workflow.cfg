includeConfig '../../confs/default.params.cfg'

conda.enabled = true


params {
        /* file containing the path to multiple bam files */
        samplesheet = "NO_FILE"

	/** downsample BAMS ? */
	downsample = false
        }

/** END_PARAMS */


process {

withName: "DBA_LOAD" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*.tsv',
                overwrite : true
                ]
        }


withName: "PLOT_DBA" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*.png',
                overwrite : true
                ]
        }

withName: "PLOT_PCA" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*.png',
                overwrite : true
                ]
        }


withName: "DBA_ANALYZE" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*.png',
                overwrite : true
                ]
        }


withName: "DBA_REPORT" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*{gz,tbi}',
                overwrite : true
                ]
        }



withName: "README" {
                publishDir = [
                path:"${params.publishDir}/results",
                mode: "copy",
                pattern : '*.{zip,html}',
                overwrite : true
                ]
        }

}

