includeConfig '../../confs/default.params.cfg'
includeConfig '../../confs/genomeId.params.cfg'
includeConfig '../../confs/by_app/delly2.cfg'

params {
        /* file containing the path to indexed BAM or CRAM files for controls. */
	controls = "NO_FILE"
	/* exclude regex */
	exclude_contig_regex = "^(chr)?[0-9XY]+\$"

	/* file containing the path to indexed BAM or CRAM files for cases */
	cases = "NO_FILE"

	/* keep BND data */
	bnd = true

	/* call CNV */
	cnv = true

	/* do not perform SV discovery and genotype the variant in the VCF */
	genotype_vcf = "NO_FILE"

	/** custom exclude BED file */
	exclude_bed = "NO_FILE"
	
	/** optional BED for CNV calling  */
	cnv_bed = "NO_FILE"
	
	/** perform SV annotation ? */
	with_annotation=false
	}

/** END_PARAMS */

process {

withName: "GENOTYPE_DELLY" {
	memory = {"50G"}
	time = {"12h"}
	}

withName: "FILTER_DELLY" {
                publishDir = [
                path:"${params.outdir}",
                mode: "copy",
                pattern : '*.{bcf,vcf.gz,csi,tbi}',
                saveAs: { filename -> "${params.prefix}$filename" },
                overwrite : true
                ]
        }

withName: "ANNOTATE_SV_VCF_01:ANNOTATE" {
                publishDir = [
                path:"${params.outdir}",
                mode: "copy",
                pattern : '*.{bcf,vcf.gz,csi,tbi}',
                saveAs: { filename -> "${params.prefix}$filename" },
                overwrite : true
                ]
        }

}

